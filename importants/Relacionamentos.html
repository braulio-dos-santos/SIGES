<!DOCTYPE html>
<!-- saved from url=(0053)https://docs.adonisjs.com/guides/models/relationships -->
<html lang="pt" class="dark translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Relacionamentos</title>
<meta name="description" content="An in-depth reference to relationships in Lucid ORM data models">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:type" content="article">
<link rel="apple-touch-icon" sizes="180x180" href="https://docs.adonisjs.com/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://docs.adonisjs.com/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://docs.adonisjs.com/icons/favicon-16x16.png">
<link rel="manifest" href="https://docs.adonisjs.com/icons/site.webmanifest">
<link rel="mask-icon" href="https://docs.adonisjs.com/icons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://docs.adonisjs.com/icons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/icons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link rel="preload" href="https://docs.adonisjs.com/assets/fonts/Calibre.28ac2dda.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="https://docs.adonisjs.com/assets/fonts/Calibre-Medium.bea7c256.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="https://docs.adonisjs.com/assets/fonts/Calibre-Semibold.44b7cbf6.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="https://docs.adonisjs.com/assets/fonts/Calibre-Bold.64dd2405.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="https://docs.adonisjs.com/assets/fonts/JetBrainsMono-Regular.5eea635b.woff2" as="font" type="font/woff2" crossorigin="">
<script>
    if (localStorage.colorMode === 'dark' || (!('colorMode' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }
  </script>
<link rel="stylesheet" href="./Relacionamentos_files/app.065e54f7.css">
<script src="./Relacionamentos_files/98.4cf942f0.js.transferir" defer=""></script>
<script src="./Relacionamentos_files/app.876bf3c3.js.transferir" defer=""></script>
<script async="" defer="" data-domain="adonisjs.com" src="./Relacionamentos_files/script.js.transferir"></script>
<link rel="stylesheet" type="text/css" href="./Relacionamentos_files/docsearch.3c7816c3.css"><link rel="prefetch" href="https://docs.adonisjs.com/guides/database/transactions"><link rel="prefetch" href="https://docs.adonisjs.com/guides/database/pagination"><link rel="prefetch" href="https://docs.adonisjs.com/guides/database/migrations"><link rel="prefetch" href="https://docs.adonisjs.com/guides/database/seeders"><link rel="prefetch" href="https://docs.adonisjs.com/guides/database/debugging"><link rel="prefetch" href="https://docs.adonisjs.com/guides/models/introduction"><link rel="prefetch" href="https://docs.adonisjs.com/guides/models/crud-operations"><link rel="prefetch" href="https://docs.adonisjs.com/guides/models/hooks"><link rel="prefetch" href="https://docs.adonisjs.com/guides/models/query-scopes"><link rel="prefetch" href="https://docs.adonisjs.com/guides/models/serializing-models"><link rel="prefetch" href="https://docs.adonisjs.com/guides/models/relationships"><link rel="prefetch" href="https://docs.adonisjs.com/guides/models/factories"><link rel="prefetch" href="https://docs.adonisjs.com/guides/auth/introduction"><link rel="prefetch" href="https://docs.adonisjs.com/guides/auth/web-guard"><link rel="prefetch" href="https://docs.adonisjs.com/guides/auth/api-tokens-guard"><link rel="prefetch" href="https://docs.adonisjs.com/guides/auth/basic-auth-guard"><link rel="prefetch" href="https://docs.adonisjs.com/guides/auth/middleware"><link rel="prefetch" href="https://docs.adonisjs.com/guides/auth/social"><link rel="prefetch" href="https://docs.adonisjs.com/guides/auth/custom-user-provider"><link type="text/css" rel="stylesheet" charset="UTF-8" href="./Relacionamentos_files/m=el_main_css"></head>
<body up-source="/guides/models/relationships"><div class="header-wrapper">
<div class="notification_banner">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AdonisJS v6 estará disponível em breve. </font></font><a href="https://adonisjs.com/road-to-v6" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenha acesso antecipado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à versão Alpha.
</font></font></p>
</div>
<header class="header">
<div class="header-container">
<div class="primary-links"><button x-data="" @click.prevent="$dispatch(&#39;toggle&#39;)" title="Abra o menu Documentos" aria-label="Abra o menu Documentos" class="hamburger for-mobile">
<svg role="presentation" focusable="false" aria-label="Ícone para menu aberto" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
<line x1="4" y1="6" x2="20" y2="6"></line>
<line x1="4" y1="12" x2="20" y2="12"></line>
<line x1="4" y1="18" x2="20" y2="18"></line>
</svg>
</button>
<div class="logo-wrapper">
<a href="https://adonisjs.com/" title="Site Adonis JS" target="_blank" rel="noopener">
<span class="for-mobile">
<svg width="68" height="17" viewBox="0 0 68 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M54.6867 0C53.54 0 52.7119 0.812178 52.7119 1.94286C52.7119 3.07354 53.54 3.88571 54.6867 3.88571C55.8333 3.88571 56.6614 3.07354 56.6614 1.94286C56.6614 0.812178 55.8333 0 54.6867 0ZM18.5686 16.6895C15.511 16.6895 13.2974 14.4286 13.2974 10.8927C13.2974 7.29317 15.511 5.03232 18.5686 5.03232C19.9859 5.03232 21.037 5.51007 21.6581 6.44965V0.509602H24.8431V16.4347H21.6581V15.304C21.0529 16.2276 20.0019 16.6895 18.5686 16.6895ZM16.5461 10.8927C16.5461 8.91803 17.6131 7.6281 19.2375 7.6281C20.8778 7.6281 21.9288 8.90211 21.9288 10.8768C21.9288 12.8197 20.8778 14.0778 19.2375 14.0778C17.6131 14.0778 16.5461 12.8197 16.5461 10.8927ZM29.8436 10.8609C29.8436 8.90211 30.9105 7.64403 32.503 7.64403C34.1115 7.64403 35.1785 8.90211 35.1785 10.8609C35.1785 12.8197 34.1115 14.0778 32.503 14.0778C30.9105 14.0778 29.8436 12.8197 29.8436 10.8609ZM64.9424 13.393C64.9424 13.9822 64.4965 14.3326 63.3658 14.3326C62.0918 14.3326 61.2956 13.6637 61.2956 12.8515H58.1105C58.1902 15.0492 60.2763 16.6895 63.3021 16.6895C66.1686 16.6895 68 15.4155 68 13.1541C68 11.466 66.9171 10.2876 64.7672 9.85761L62.4581 9.39578C61.7574 9.25246 61.3433 8.90211 61.3433 8.44028C61.3433 7.7555 62.044 7.38923 62.9358 7.38923C64.2098 7.38923 64.7035 7.97845 64.7035 8.67916H67.7293C67.6497 6.6089 66.0253 5.03232 62.9995 5.03232C60.1808 5.03232 58.2698 6.44965 58.2698 8.59953C58.2698 10.5424 59.5279 11.4183 61.407 11.8164L63.7002 12.3101C64.4487 12.4693 64.9424 12.7878 64.9424 13.393ZM53.1101 5.28712H56.2951V16.4347H53.1101V5.28712ZM43.3639 5.28712V6.44965C44.1761 5.51007 45.259 5.03232 46.5967 5.03232C49.097 5.03232 50.7213 6.65667 50.7213 9.17283V16.4347H47.5363V9.84169C47.5363 8.48806 46.7719 7.67588 45.4501 7.67588C44.1283 7.67588 43.3639 8.48806 43.3639 9.84169V16.4347H40.1789V5.28712H43.3639ZM32.503 5.03232C29.111 5.03232 26.5948 7.48478 26.5948 10.8609C26.5948 14.237 29.111 16.6895 32.503 16.6895C35.911 16.6895 38.4272 14.237 38.4272 10.8609C38.4272 7.48478 35.911 5.03232 32.503 5.03232ZM5.94005 7.6281C4.31569 7.6281 3.24871 8.91803 3.24871 10.8927C3.24871 12.8197 4.31569 14.0778 5.94005 14.0778C7.58033 14.0778 8.63138 12.8197 8.63138 10.8768C8.63138 8.90211 7.58033 7.6281 5.94005 7.6281ZM0 10.8927C0 14.4286 2.21358 16.6895 5.25527 16.6895C6.70445 16.6895 7.73958 16.2276 8.36066 15.304V16.4347H11.5457V5.28712H8.36066V6.44965C7.72365 5.51007 6.6726 5.03232 5.25527 5.03232C2.21358 5.03232 0 7.29317 0 10.8927Z" fill="white"></path>
</svg>
</span>
<span class="for-desktop">
<svg width="108" height="36" viewBox="0 0 108 36" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 16.3331C0 29.506 3.16017 32.6662 16.3331 32.6662C29.506 32.6662 32.6662 29.506 32.6662 16.3331C32.6662 3.16017 29.506 0 16.3331 0C3.16017 0 0 3.16017 0 16.3331ZM6.58646 19.7261L11.7093 8.08338C12.5742 6.12075 14.2374 5.05627 16.3331 5.05627C18.4288 5.05627 20.092 6.12075 20.9569 8.08338L26.0797 19.7261C26.3126 20.2916 26.5122 21.0235 26.5122 21.6555C26.5122 24.5495 24.483 26.5787 21.589 26.5787C20.6032 26.5787 19.8203 26.3271 19.0278 26.0725C18.2158 25.8116 17.3937 25.5475 16.3331 25.5475C15.2847 25.5475 14.4426 25.814 13.6145 26.076C12.8136 26.3294 12.0258 26.5787 11.0772 26.5787C8.18318 26.5787 6.15402 24.5495 6.15402 21.6555C6.15402 21.0235 6.35361 20.2916 6.58646 19.7261ZM16.3331 10.1125L11.2768 21.5557C12.7737 20.8571 14.5035 20.5245 16.3331 20.5245C18.0961 20.5245 19.8924 20.8571 21.3228 21.5557L16.3331 10.1125Z" fill="white"></path>
<path fill-rule="evenodd" clip-rule="evenodd" d="M94.0883 8.03894C92.9542 8.03894 92.1352 8.84223 92.1352 9.96054C92.1352 11.0788 92.9542 11.8821 94.0883 11.8821C95.2223 11.8821 96.0414 11.0788 96.0414 9.96054C96.0414 8.84223 95.2223 8.03894 94.0883 8.03894ZM58.3654 24.5458C55.3413 24.5458 53.1519 22.3097 53.1519 18.8125C53.1519 15.2523 55.3413 13.0162 58.3654 13.0162C59.7673 13.0162 60.8068 13.4887 61.4211 14.418V8.54297H64.5713V24.2938H61.4211V23.1755C60.8226 24.089 59.783 24.5458 58.3654 24.5458ZM56.3651 18.8125C56.3651 16.8594 57.4204 15.5836 59.027 15.5836C60.6493 15.5836 61.6889 16.8436 61.6889 18.7967C61.6889 20.7183 60.6493 21.9627 59.027 21.9627C57.4204 21.9627 56.3651 20.7183 56.3651 18.8125ZM69.517 18.781C69.517 16.8436 70.5723 15.5993 72.1474 15.5993C73.7382 15.5993 74.7935 16.8436 74.7935 18.781C74.7935 20.7183 73.7382 21.9627 72.1474 21.9627C70.5723 21.9627 69.517 20.7183 69.517 18.781ZM104.232 21.2854C104.232 21.8681 103.791 22.2147 102.672 22.2147C101.412 22.2147 100.625 21.5531 100.625 20.7498H97.4747C97.5535 22.9235 99.6168 24.5458 102.609 24.5458C105.445 24.5458 107.256 23.2857 107.256 21.0491C107.256 19.3795 106.185 18.214 104.059 17.7887L101.775 17.3319C101.082 17.1902 100.672 16.8436 100.672 16.3869C100.672 15.7096 101.365 15.3473 102.247 15.3473C103.507 15.3473 103.996 15.9301 103.996 16.6231H106.988C106.909 14.5755 105.303 13.0162 102.31 13.0162C99.5223 13.0162 97.6322 14.418 97.6322 16.5444C97.6322 18.466 98.8765 19.3323 100.735 19.726L103.003 20.2143C103.744 20.3718 104.232 20.6868 104.232 21.2854ZM95.6791 24.2938H92.5289V13.2682H95.6791V24.2938ZM82.8895 13.2682V14.418C83.6927 13.4887 84.7638 13.0162 86.0869 13.0162C88.5597 13.0162 90.1663 14.6228 90.1663 17.1114V24.2938H87.0162V17.7729C87.0162 16.4341 86.2601 15.6308 84.9528 15.6308C83.6455 15.6308 82.8895 16.4341 82.8895 17.7729V24.2938H79.7393V13.2682H82.8895ZM72.1474 13.0162C68.7925 13.0162 66.3039 15.4418 66.3039 18.781C66.3039 22.1202 68.7925 24.5458 72.1474 24.5458C75.5181 24.5458 78.0067 22.1202 78.0067 18.781C78.0067 15.4418 75.5181 13.0162 72.1474 13.0162ZM45.8751 15.5836C44.2685 15.5836 43.2132 16.8594 43.2132 18.8125C43.2132 20.7183 44.2685 21.9627 45.8751 21.9627C47.4974 21.9627 48.5369 20.7183 48.5369 18.7967C48.5369 16.8436 47.4974 15.5836 45.8751 15.5836ZM40 18.8125C40 22.3097 42.1894 24.5458 45.1978 24.5458C46.6311 24.5458 47.6549 24.089 48.2692 23.1755V24.2938H51.4193V13.2682H48.2692V14.418C47.6391 13.4887 46.5996 13.0162 45.1978 13.0162C42.1894 13.0162 40 15.2523 40 18.8125Z" fill="white"></path>
</svg>
</span>
</a>
</div>
</div>
<nav class="header-nav" up-nav="">
<ul>
<li>
<a href="https://learn.adonisjs.com/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aprender
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/introduction" class="up-current" up-alias="/guides/*" up-follow="" up-preload="" aria-current="page"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Guias
</font></font></a>
</li>
<li x-data="{ expanded: false }" :class="{ &#39;expanded&#39;: expanded }" @click.away="expanded = false">
<a href="https://docs.adonisjs.com/guides/models/relationships#" @click.prevent="expanded = !expanded" class="" up-alias="/reference/*"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Referência
</font></font><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
<polyline points="6 9 12 15 18 9"></polyline>
</svg>
</a>
<ul class="dropdown">
<li>
<a href="https://docs.adonisjs.com/reference/database/connection" up-follow="" up-preload="" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base de dados</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/reference/validator/schema/string" up-follow="" up-preload="" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validador</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/reference/views/globals/inspect" up-follow="" up-preload="" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualizações e modelos</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/reference/i18n/manager" up-follow="" up-preload="" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internacionalização</font></font></a>
</li>
</ul>
</li>
<li x-data="{ expanded: false }" :class="{ &#39;expanded&#39;: expanded }" @click.away="expanded = false">
<a href="https://docs.adonisjs.com/guides/models/relationships#" class="" @click.prevent="expanded = !expanded" up-alias="/cookbooks/* /releases/*"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recursos
</font></font><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
<polyline points="6 9 12 15 18 9"></polyline>
</svg>
</a>
<ul class="dropdown">
<li>
<a href="https://docs.adonisjs.com/cookbooks/socketio-with-adonisjs" up-follow="" up-preload="" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Livros de receitas</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/releases/may-2022-release" up-follow="" up-preload="" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lançamentos</font></font></a>
</li>
<li>
<a href="https://news.adonisjs.com/" target="_blank" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boletim de Notícias</font></font></a>
</li>
<li>
<a href="https://github.com/adonisjs/core" target="_blank" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
</li>
<li>
<a href="https://marketplace.visualstudio.com/items?itemName=jripouteau.adonis-vscode-extension" target="_blank" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extensão de código VS</font></font></a>
</li>
<li>
<a href="https://packages.adonisjs.com/" target="_blank" @click="expanded = false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pacotes comunitários</font></font></a>
</li>
</ul>
</li>
</ul>
</nav>
<div class="right-section"><div class="dark-mode-switch" x-data="darkModeSwitch">
<button @click="toggleColorMode()" aria-label="Alternar modo escuro">
<svg x-show="mode === &#39;dark&#39;" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg>
<svg x-show="mode === &#39;light&#39;" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" style="display: none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg>
</button>
</div>
<div class="search-wrapper" x-data="search()">
<button class="search-trigger" title="Abrir pop-up de pesquisa" aria-label="Abrir pop-up de pesquisa" id="algolia-search-input"><button type="button" class="DocSearch DocSearch-Button" aria-label="Procurar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procurar</font></font></span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></button>
</div>
</div>
</div>
</header>
</div>
<div up-main=""><div x-data="offCanvasMenu" id="sidenav-open" @toggle.window="open" :class="{ opened: opened }">
<div class="sidebar">
<div class="sidebar-container" up-nav="" x-data="prefetch"><div class="mobile-main-nav">
<select x-data="selectBoxNavigate()" @change="visitUrl">
<option value="/guides/context"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Guias
</font></font></option>
<optgroup label="Reference">
<option value="/reference/database/connection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Base de dados
</font></font></option>
<option value="/reference/validator/schema/string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Validador
</font></font></option>
<option value="/reference/views/globals/inspect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visualizações e modelos
</font></font></option>
<option value="/reference/i18n/manager"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Internacionalização
</font></font></option>
</optgroup>
<option value="/cookbooks/socketio-with-adonisjs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Livros de receitas
</font></font></option>
<option value="/releases/may-2022-release"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lançamentos
</font></font></option>
</select>
</div>
<nav>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/introduction" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introdução
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/installation" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instalação
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/release-process" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Processo de liberação
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fundamentos</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/application" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplicativo
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/adonisrc-file" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivo AdonisRC
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/config" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configuração
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/environment-variables" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Variáveis ​​ambientais
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/typescript-build-process" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Processo de construção TypeScript
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/deployment" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implantação
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/async-local-storage" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Armazenamento local assíncrono
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/context" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contexto
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/routing" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Roteamento
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/controllers" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Controladores
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/request" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solicitar
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/response" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resposta
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/file-uploads" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uploads de arquivos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/direct-file-uploads" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uploads diretos de arquivos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/middleware" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Middleware
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/cookies" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biscoitos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/session" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sessão
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/static-assets" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ativos estáticos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/assets-manager" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gerente de ativos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/exception-handling" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manipulação de exceção
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualizações e modelos</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/views/introduction" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introdução
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/rendering" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Renderização
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/templating-syntax" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sintaxe de modelagem
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/data-flow" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fluxo de dados
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/conditionals" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Condicionais
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/loops" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rotações
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/partials" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parciais
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/layouts" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Layouts
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/components" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Componentes
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/mutations" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mutações
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/views/debugging" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuração
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validador</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/validator/introduction" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introdução
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/validator/custom-messages" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mensagens personalizadas
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/validator/error-reporters" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Repórteres de erros
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/validator/schema-caching" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cache de esquema
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/validator/custom-rules" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regras de validação personalizadas
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base de dados</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/database/introduction" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introdução
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/database/query-builder" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Construtor de consultas
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/database/transactions" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transações
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/database/pagination" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paginação
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/database/migrations" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Migrações de esquema
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/database/seeders" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semeadores de banco de dados
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/database/debugging" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuração
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORM</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/models/introduction" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introdução
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/models/crud-operations" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Operações CRUD
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/models/hooks" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ganchos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/models/query-scopes" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Escopos de consulta
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/models/serializing-models" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Serializando modelos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/models/relationships" class="up-current" up-follow="" up-target="#document" up-preload="" @click="close" aria-current="page"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Relacionamentos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/models/factories" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fábricas modelo
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autenticação</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/auth/introduction" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introdução
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/auth/web-guard" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Protetor da web
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/auth/api-tokens-guard" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tokens de API
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/auth/basic-auth-guard" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autenticação básica
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/auth/middleware" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Middleware de autenticação
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/auth/social" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autenticação social
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/auth/custom-user-provider" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Provedor de usuário personalizado
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segurança</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/security/web-security" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segurança na Web
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/security/cors" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CORS
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/security/encryption" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criptografia
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/security/hashing" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hashing
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/security/signed-urls" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
URLs assinados
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teste</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/testing/introduction" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introdução
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/testing/http-tests" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testes HTTP
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/testing/fakes" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zombarias e falsificações
</font></font></a>
</li>
</ol>
</nav>
<nav>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indo mais fundo</font></font></h3>
<ol>
<li>
<a href="https://docs.adonisjs.com/guides/authorization" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autorização
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/drive" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dirigir
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/i18n" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Internacionalização
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/ace-commandline" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ás
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/repl" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adonis JS REPL
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/logger" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Registrador
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/events" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eventos
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/helpers" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajudantes
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/mailer" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Envio de correspondência
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/redis" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/health-check" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exame de saúde
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/rate-limiting" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Limitação de taxa
</font></font></a>
</li>
<li>
<a href="https://docs.adonisjs.com/guides/route-model-binding" class="" up-follow="" up-target="#document" up-preload="" @click="close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vinculação de modelo de rota
</font></font></a>
</li>
</ol>
</nav>
</div>
</div>
<a href="https://docs.adonisjs.com/guides/models/relationships" @click.prevent="close" data-turbo="false" id="sidenav-close" class="sidenav-backdrop" title="Fechar menu Documentos" aria-label="Fechar menu Documentos"></a>
</div>
<div id="document" up-main=""><main class="doc">
<div class="markdown">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relacionamentos</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os modelos de dados Lucid têm suporte pronto para trabalhar com relacionamentos. </font><font style="vertical-align: inherit;">Você precisa definir os relacionamentos em seus modelos, e o Lucid fará todo o trabalho pesado de construção das consultas SQL subjacentes.</font></font></p>
<h2 id="hasone"><a href="https://docs.adonisjs.com/guides/models/relationships#hasone" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tem um</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HasOne cria um </font></font><code>one-to-one</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relacionamento entre dois modelos. </font><font style="vertical-align: inherit;">Por exemplo, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um usuário tem um perfil</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O relacionamento que tem um precisa de uma chave estrangeira na tabela relacionada.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir está um exemplo de estrutura de tabela para o relacionamento. </font><font style="vertical-align: inherit;">A </font></font><code>profiles.user_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a chave estrangeira e forma o relacionamento com a </font></font><code>users.id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coluna.</font></font></p>
<p></p><figure>
<img data-src="https://res.cloudinary.com/adonis-js/image/upload/q_auto,f_auto/v1619882378/v5/has-one.png" alt="" class=" lazyloaded" src="./Relacionamentos_files/has-one.png">
</figure>
<p></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir estão os exemplos de migrações para as tabelas </font></font><code>users</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>profiles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div x-data="codegroups" class="codegroup ready">
<div class="codegroup-tabs">
<div x-ref="highlighter" class="highlighter" style="width: 0px; left: 8px;"></div>
<button x-ref="firstTab" @click.prevent="changeTab(1, event.target)" :class="{ active: 1 === activeTab }" class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usuários</font></font></button>
<button @click.prevent="changeTab(2, event.target)" :class="{ active: 2 === activeTab }" class=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perfis</font></font></button>
</div>
<div>
<div x-show="activeTab === 1" style=""><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Users</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
<div x-show="activeTab === 2" style="display: none;"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Profiles</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profiles</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">integer</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unsigned</span><span style="color: #F07178;">()</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">references</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users.id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">onDelete</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">CASCADE</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">) </span><span style="color: #676E95;">// delete profile when user is deleted</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
</div>
</div>
<h3 id="defining-relationship-on-the-model"><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Definindo relacionamento no modelo</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de criar as tabelas com as colunas obrigatórias, você também terá que definir o relacionamento no modelo Lucid.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O relacionamento has one é definido usando o decorador </font></font><a href="https://docs.adonisjs.com/reference/orm/decorators#hasone"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@hasOne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
em uma propriedade de modelo.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> Profile </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">App/Models/Profile</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">column</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">BaseModel</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">hasOne</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">HasOne</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Orm</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">User</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseModel</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasOne</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Profile)</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">profile</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">HasOne</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Profile</span><span style="color: #89DDFF;">&gt;</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
<h3 id="custom-relationship-keys"><a href="https://docs.adonisjs.com/guides/models/relationships#custom-relationship-keys" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaves de relacionamento personalizadas</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por padrão, </font></font><code>foreignKey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">representação camelCase do nome do modelo pai e sua chave primária</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No entanto, você também pode definir uma chave estrangeira personalizada.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasOne</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Profile</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">foreignKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profileUserId</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// defaults to userId</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">profile</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> HasOne</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Profile</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<div class="alert alert-note"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lembre-se, se você pretende usar camelCase para definição de chave estrangeira, lembre-se de que a </font></font><a href="https://docs.adonisjs.com/reference/orm/naming-strategy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estratégia de nomenclatura</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> padrão 
irá convertê-la automaticamente para Snake_case.</font></font></p></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A chave local é sempre a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chave primária do modelo pai</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas também pode ser definida explicitamente.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasOne</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Profile</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">localKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">uuid</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// defaults to id</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">profile</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> HasOne</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Profile</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<h2 id="hasmany"><a href="https://docs.adonisjs.com/guides/models/relationships#hasmany" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tem muitos</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HasMany cria um </font></font><code>one-to-many</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relacionamento entre dois modelos. </font><font style="vertical-align: inherit;">Por exemplo, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um usuário tem muitas postagens</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O relacionamento hasMany precisa de uma chave estrangeira na tabela relacionada.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir está um exemplo de estrutura de tabela para o relacionamento hasMany. </font><font style="vertical-align: inherit;">A </font></font><code>posts.user_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a chave estrangeira e forma o relacionamento com a </font></font><code>users.id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coluna.</font></font></p>
<p></p><figure>
<img data-src="https://res.cloudinary.com/adonis-js/image/upload/q_auto,f_auto/v1619885223/v5/has-many.png" alt="" class=" lazyloaded" src="./Relacionamentos_files/has-many.png">
</figure>
<p></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir estão os exemplos de migrações para as tabelas </font></font><code>users</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>posts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div x-data="codegroups" class="codegroup ready">
<div class="codegroup-tabs">
<div x-ref="highlighter" class="highlighter" style="width: 58px; left: 20px;"></div>
<button x-ref="firstTab" @click.prevent="changeTab(1, event.target)" :class="{ active: 1 === activeTab }" class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usuários</font></font></button>
<button @click.prevent="changeTab(2, event.target)" :class="{ active: 2 === activeTab }"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Postagens</font></font></button>
</div>
<div>
<div x-show="activeTab === 1"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Users</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
<div x-show="activeTab === 2" style="display: none;"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Posts</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">integer</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unsigned</span><span style="color: #F07178;">()</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">references</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users.id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">onDelete</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">CASCADE</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">) </span><span style="color: #676E95;">// delete post when user is deleted</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
</div>
</div>
<h3 id="defining-relationship-on-the-model-1"><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model-1" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Definindo relacionamento no modelo</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de criar as tabelas com as colunas obrigatórias, você também terá que definir o relacionamento no modelo Lucid.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O relacionamento has many é definido usando o decorador </font></font><a href="https://docs.adonisjs.com/reference/orm/decorators#hasmany"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@hasMany</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
em uma propriedade de modelo.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> Post </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">App/Models/Post</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">column</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">BaseModel</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">hasMany</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">HasMany</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Orm</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">User</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseModel</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Post)</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">posts</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">HasMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">&gt;</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
<h3 id="custom-relationship-keys-1"><a href="https://docs.adonisjs.com/guides/models/relationships#custom-relationship-keys-1" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaves de relacionamento personalizadas</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por padrão, </font></font><code>foreignKey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">representação camelCase do nome do modelo pai e sua chave primária</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No entanto, você também pode definir uma chave estrangeira personalizada.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">foreignKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">authorId</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// defaults to userId</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">posts</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> HasMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<div class="alert alert-note"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lembre-se, se você pretende usar camelCase para definição de chave estrangeira, lembre-se de que a </font></font><a href="https://docs.adonisjs.com/reference/orm/naming-strategy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estratégia de nomenclatura</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> padrão 
irá convertê-la automaticamente para Snake_case.</font></font></p></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A chave local é sempre a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chave primária do modelo pai</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas também pode ser definida explicitamente.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">localKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">uuid</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// defaults to id</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">posts</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> HasMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<h2 id="belongsto"><a href="https://docs.adonisjs.com/guides/models/relationships#belongsto" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertence a</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BelongsTo é o inverso do </font></font><code>hasOne</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e do </font></font><code>hasMany</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relacionamento. </font><font style="vertical-align: inherit;">Assim, por exemplo, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o perfil pertence a um usuário</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma postagem pertence a um usuário</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode aproveitar a mesma estrutura de tabela e as mesmas convenções de chave estrangeira para definir um relacionamento pertence a.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O relacionamento pertence a é definido usando o decorador </font></font><a href="https://docs.adonisjs.com/reference/orm/decorators#belongsto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@belongsTo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
em uma propriedade de modelo.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> User </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">App/Models/User</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">column</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">BaseModel</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">belongsTo</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">BelongsTo</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Orm</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Profile</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseModel</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #89DDFF;">  </span><span style="color: #676E95;">// Foreign key is still on the same model</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">column</span><span style="color: #A6ACCD;">()</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">userId</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">number</span>
</div><div class="line dim">
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">belongsTo</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> User)</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">user</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BelongsTo</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">&gt;</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
<h2 id="manytomany"><a href="https://docs.adonisjs.com/guides/models/relationships#manytomany" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitos para muitos</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um relacionamento muitos-para-muitos é um pouco complexo, pois permite que ambos os lados tenham mais de um relacionamento entre si. </font><font style="vertical-align: inherit;">Por exemplo: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um usuário pode ter muitas habilidades</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma habilidade também pode pertencer a muitos usuários</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você precisa de uma terceira tabela (geralmente conhecida como tabela dinâmica) para que esse relacionamento funcione. </font><font style="vertical-align: inherit;">A tabela dinâmica contém as chaves estrangeiras de ambas as outras tabelas.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No exemplo a seguir, a </font></font><code>skill_user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tabela possui as chaves estrangeiras tanto para a tabela </font></font><code>users</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quanto para a </font></font><code>skills</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tabela, permitindo que cada usuário tenha diversas habilidades e vice-versa.</font></font></p>
<p></p><figure>
<img data-src="https://res.cloudinary.com/adonis-js/image/upload/q_auto,f_auto/v1619890917/v5/many-to-many.png" alt="" class=" lazyloaded" src="./Relacionamentos_files/many-to-many.png">
</figure>
<p></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir estão os exemplos de migrações para as tabelas </font></font><code>users</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>skills</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>skill_user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div x-data="codegroups" class="codegroup ready">
<div class="codegroup-tabs">
<div x-ref="highlighter" class="highlighter" style="width: 58px; left: 20px;"></div>
<button x-ref="firstTab" @click.prevent="changeTab(1, event.target)" :class="{ active: 1 === activeTab }" class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usuários</font></font></button>
<button @click.prevent="changeTab(2, event.target)" :class="{ active: 2 === activeTab }"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habilidades</font></font></button>
<button @click.prevent="changeTab(3, event.target)" :class="{ active: 3 === activeTab }"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usuário_habilidade</font></font></button>
</div>
<div>
<div x-show="activeTab === 1"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Users</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
<div x-show="activeTab === 2" style="display: none;"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Skills</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
<div x-show="activeTab === 3" style="display: none;"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">SkillUsers</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skill_user</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">integer</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unsigned</span><span style="color: #F07178;">()</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">references</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users.id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">integer</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skill_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unsigned</span><span style="color: #F07178;">()</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">references</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills.id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unique</span><span style="color: #F07178;">([</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_id</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skill_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">])</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
</div>
</div>
<h3 id="defining-relationship-on-the-model-2"><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model-2" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Definindo relacionamento no modelo</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de criar as tabelas com as colunas obrigatórias, você também terá que definir o relacionamento no modelo Lucid.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O relacionamento muitos para muitos é definido usando o decorador </font></font><a href="https://docs.adonisjs.com/reference/orm/decorators#manytomany"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@manyToMany</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
em uma propriedade de modelo.</font></font></p>
<div class="alert alert-note"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não há necessidade de criar um modelo para a tabela dinâmica.</font></font></p></div>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> Skill </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">App/Models/Skill</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">column</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">BaseModel</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">manyToMany</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">ManyToMany</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Orm</span><span style="color: #89DDFF;">'</span>
</div><div class="line highlight">
</div><div class="line highlight"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">User</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseModel</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">column</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">{</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">isPrimary</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">id</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">number</span>
</div><div class="line highlight">
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">manyToMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Skill)</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">skills</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">ManyToMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">&gt;</span>
</div><div class="line highlight"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
<h3 id="custom-relationship-keys-2"><a href="https://docs.adonisjs.com/guides/models/relationships#custom-relationship-keys-2" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaves de relacionamento personalizadas</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma relação manyToMany depende de muitas chaves diferentes para configurar adequadamente o relacionamento. </font><font style="vertical-align: inherit;">Todas essas chaves são calculadas usando convenções padrão. </font><font style="vertical-align: inherit;">No entanto, você está livre para substituí-los.</font></font></p>
<ul>
<li><code>localKey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a chave primária do modelo pai (ou seja, Usuário)</font></font></li>
<li><code>relatedKey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a chave primária do modelo relacionado (ou seja, Habilidade)</font></font></li>
<li><code>pivotForeignKey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a chave estrangeira para estabelecer o relacionamento com o modelo pai. </font><font style="vertical-align: inherit;">O valor padrão é a </font></font><code>snake_case</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versão do nome do modelo pai e sua chave primária.</font></font></li>
<li><code>pivotRelatedForeignKey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é a chave estrangeira para estabelecer o relacionamento com o modelo relacionado. </font><font style="vertical-align: inherit;">O valor padrão é a </font></font><code>snake_case</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versão do nome do modelo relacionado e sua chave primária.</font></font></li>
</ul>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">manyToMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">localKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">pivotForeignKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_id</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">relatedKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">pivotRelatedForeignKey</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skill_id</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">skills</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> ManyToMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<div class="alert alert-note"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lembre-se, se você pretende usar camelCase para definição de chave estrangeira, lembre-se de que a </font></font><a href="https://docs.adonisjs.com/reference/orm/naming-strategy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estratégia de nomenclatura</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> padrão 
irá convertê-la automaticamente para Snake_case.</font></font></p></div>
<h3 id="custom-pivot-table"><a href="https://docs.adonisjs.com/guides/models/relationships#custom-pivot-table" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabela dinâmica personalizada</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O valor padrão para o nome da tabela dinâmica é calculado </font></font><a href="https://github.com/adonisjs/lucid/blob/develop/src/Orm/NamingStrategies/SnakeCase.ts#L73" target="&quot;_blank&quot;" rel="&quot;noopener" noreferrer="" nofollow&quot;=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combinando</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nome do modelo pai</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nome do modelo relacionado</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No entanto, você também pode definir uma tabela dinâmica personalizada.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">manyToMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">pivotTable</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_skills</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">skills</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> ManyToMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<h3 id="additional-pivot-columns"><a href="https://docs.adonisjs.com/guides/models/relationships#additional-pivot-columns" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Colunas dinâmicas adicionais</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Às vezes, sua tabela dinâmica terá colunas adicionais. </font><font style="vertical-align: inherit;">Por exemplo, você está armazenando </font></font><code>proficiency</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">junto com a habilidade do usuário.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você terá que informar um relacionamento manyToMany sobre esta coluna extra. </font><font style="vertical-align: inherit;">Caso contrário, o Lucid não o selecionará durante as consultas de busca.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">manyToMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">pivotColumns</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> [</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">proficiency</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">]</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">skills</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> ManyToMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<h3 id="pivot-table-timestamps"><a href="https://docs.adonisjs.com/guides/models/relationships#pivot-table-timestamps" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Carimbos de data e hora da tabela dinâmica</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode ativar o suporte para carimbos </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de data/hora criados</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atualizados em</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suas tabelas dinâmicas usando a </font></font><code>pivotTimestamps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriedade.</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma vez definido, o Lucid definirá/atualizará automaticamente esses carimbos de data/hora nas consultas de inserção e atualização.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Converte-os em uma instância da classe </font></font><a href="https://moment.github.io/luxon/api-docs/index.html#datetime" target="&quot;_blank&quot;" rel="&quot;noopener" noreferrer="" nofollow&quot;=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luxon Datetime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
durante a busca.</font></font></li>
</ul>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">manyToMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">pivotTimestamps</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FF9CAC;">true</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">skills</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> ManyToMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As configurações </font></font><code>pivotTimestamps = true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assumem que os nomes das colunas são definidos como </font></font><code>created_at</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>updated_at</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">No entanto, você também pode definir nomes de colunas personalizados.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">manyToMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">pivotTimestamps</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">createdAt</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">creation_date</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">updatedAt</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updation_date</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">skills</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> ManyToMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para desabilitar um carimbo de data/hora específico, você pode definir seu valor como </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">manyToMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">pivotTimestamps</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">createdAt</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">creation_date</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">updatedAt</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FF9CAC;">false</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// turn off update at timestamp field</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">public </span><span style="color: #FFCB6B;">skills</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> ManyToMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">&gt;</span>
</div></code></pre>
</div>
<h2 id="hasmanythrough"><a href="https://docs.adonisjs.com/guides/models/relationships#hasmanythrough" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HasManyThrough</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O relacionamento HasManyThrough é semelhante ao </font></font><code>HasMany</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relacionamento, mas cria o relacionamento por meio de um modelo intermediário. </font><font style="vertical-align: inherit;">Por exemplo, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um país tem muitas postagens por meio de usuários</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este relacionamento precisa que o modelo direto (ou seja, Usuário) tenha uma referência de chave estrangeira com o modelo atual (ou seja, País).</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O modelo relacionado (ou seja, Post) possui uma referência de chave estrangeira com o modelo direto (ou seja, Usuário).</font></font></p>
<p></p><figure>
<img data-src="https://res.cloudinary.com/adonis-js/image/upload/q_100/v1619899020/v5/has-many-through.png" alt="" class=" lazyloaded" src="./Relacionamentos_files/has-many-through.png">
</figure>
<p></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir estão os exemplos de migrações para as tabelas </font></font><code>countries</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>users</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>posts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div x-data="codegroups" class="codegroup ready">
<div class="codegroup-tabs">
<div x-ref="highlighter" class="highlighter" style="width: 92px; left: 20px;"></div>
<button x-ref="firstTab" @click.prevent="changeTab(1, event.target)" :class="{ active: 1 === activeTab }" class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">países</font></font></button>
<button @click.prevent="changeTab(2, event.target)" :class="{ active: 2 === activeTab }"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usuários</font></font></button>
<button @click.prevent="changeTab(3, event.target)" :class="{ active: 3 === activeTab }"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Postagens</font></font></button>
</div>
<div>
<div x-show="activeTab === 1"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Countries</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">countries</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
<div x-show="activeTab === 2" style="display: none;"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Users</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">integer</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">country_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unsigned</span><span style="color: #F07178;">()</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">references</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">countries.id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
<div x-show="activeTab === 3" style="display: none;"><div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> BaseSchema </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Schema</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Posts</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseSchema</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">protected</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">tableName</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">async</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">up</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">primary</span><span style="color: #F07178;">()</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">integer</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unsigned</span><span style="color: #F07178;">()</span>
</div><div class="line highlight"><span style="color: #F07178;">        </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">references</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users.id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">created_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">timestamp</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">updated_at</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span><span style="color: #F07178;"> useTz</span><span style="color: #89DDFF;">:</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
</div>
</div>
</div>
<h3 id="defining-relationship-on-the-model-3"><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model-3" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Definindo relacionamento no modelo</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de criar as tabelas com as colunas obrigatórias, você também terá que definir o relacionamento no modelo Lucid.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O relacionamento has many through é definido usando o decorador </font></font><a href="https://docs.adonisjs.com/reference/orm/decorators#hasmanythrough"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@hasManyThrough</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
em uma propriedade de modelo.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> Post </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">App/Models/Post</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> User </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">App/Models/User</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">BaseModel</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">column</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">hasManyThrough</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">HasManyThrough</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Orm</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Country</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseModel</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">column</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">{</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">isPrimary</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">id</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">number</span>
</div><div class="line dim">
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasManyThrough</span><span style="color: #A6ACCD;">([</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">,</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  ])</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">posts</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">HasManyThrough</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">&gt;</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
<h2 id="preload-relationship"><a href="https://docs.adonisjs.com/guides/models/relationships#preload-relationship" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Relacionamento de pré-carregamento</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O pré-carregamento permite buscar os dados do relacionamento junto com a consulta principal. </font><font style="vertical-align: inherit;">Por exemplo: Selecione todos os usuários e </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seus perfis ao mesmo tempo.</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método aceita o nome do relacionamento definido no modelo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O valor da propriedade de relacionamento para </font></font><code>hasOne</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e o </font></font><code>belongsTo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relacionamento é definido para a instância de modelo relacionada ou </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando nenhum registro é encontrado.</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O valor da propriedade de relacionamento é uma matriz da instância de modelo relacionada para todos os outros tipos de relacionamento.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> users </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profile</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">users</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">forEach</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">user</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">user</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">profile</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode modificar a consulta de relacionamento passando um retorno de chamada opcional para o </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> users </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profile</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">profileQuery</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">profileQuery</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">where</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">isActive</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h3 id="preload-multiple-relationships"><a href="https://docs.adonisjs.com/guides/models/relationships#preload-multiple-relationships" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pré-carregar vários relacionamentos</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">criar vários relacionamentos chamando o </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método várias vezes. </font><font style="vertical-align: inherit;">Por exemplo:</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> users </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profile</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h3 id="preload-nested-relationships"><a href="https://docs.adonisjs.com/guides/models/relationships#preload-nested-relationships" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pré-carregar relacionamentos aninhados</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode pré-carregar relacionamentos aninhados usando o construtor de consultas de relacionamento acessível por meio do retorno de chamada opcional.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No exemplo a seguir, buscamos todos os usuários, pré-carregamos suas postagens e, em seguida, buscamos todos os comentários de cada postagem, junto com o usuário do comentário.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> users </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">postsQuery</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">postsQuery</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">commentsQuery</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">commentsQuery</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h3 id="many-to-many-pivot-columns"><a href="https://docs.adonisjs.com/guides/models/relationships#many-to-many-pivot-columns" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitas para muitas colunas dinâmicas</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao pré-carregar um relacionamento manyToMany, as colunas da tabela dinâmica são movidas para o </font></font><code>$extras</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objeto na instância do relacionamento.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por padrão, selecionamos apenas as chaves estrangeiras da tabela dinâmica. </font><font style="vertical-align: inherit;">No entanto, é possível definir colunas dinâmicas adicionais para selecionar ao </font></font><a href="https://docs.adonisjs.com/guides/models/relationships#additional-pivot-columns"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definir o relacionamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ou o tempo de execução.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> users </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">pivotColumns</span><span style="color: #F07178;">([</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">proficiency</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">])</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">users</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">forEach</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">user</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">user</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">skills</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">forEach</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">skill</span><span style="color: #89DDFF;">)</span><span style="color: #F07178;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #F07178;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">skill</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">pivot_proficiency</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">skill</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">pivot_user_id</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">skill</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">pivot_skill_id</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">skill</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">pivot_created_at</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h3 id="lazy-load-relationships"><a href="https://docs.adonisjs.com/guides/models/relationships#lazy-load-relationships" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Relacionamentos de carga lenta</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Junto com o pré-carregamento, você também pode carregar relacionamentos diretamente de uma instância de modelo.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> user </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #676E95;">// Lazy load the profile</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profile</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #A6ACCD;">(user</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">profile) </span><span style="color: #676E95;">// Profile | null</span>
</div><div class="line">
</div><div class="line"><span style="color: #676E95;">// Lazy load the posts</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #A6ACCD;">(user</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">posts) </span><span style="color: #676E95;">// Post[]</span>
</div></code></pre>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim como o </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método, o </font></font><code>load</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método também aceita um retorno de chamada opcional para modificar a consulta de relacionamento.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profile</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">profileQuery</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">profileQuery</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">where</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">isActive</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode carregar vários relacionamentos chamando o </font></font><code>load</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método várias vezes ou capturando uma instância do carregador de relacionamento subjacente.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #676E95;">// Calling "load" method multiple times</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profile</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #676E95;">// Using the relationships loader</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">loader</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">loader</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">profile</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">load</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h3 id="limit-preloaded-relationships"><a href="https://docs.adonisjs.com/guides/models/relationships#limit-preloaded-relationships" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Limitar relacionamentos pré-carregados</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digamos que você queira carregar todas as postagens e buscar os três comentários recentes de cada postagem.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar o </font></font><code>limit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método do construtor de consultas não fornecerá o resultado desejado, pois o limite é aplicado a todo o conjunto de dados e não aos comentários de uma postagem individual.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, você deve usar o </font></font><code>groupLimit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método que utiliza </font></font><a href="https://drill.apache.org/docs/sql-window-functions-introduction/" target="&quot;_blank&quot;" rel="&quot;noopener" noreferrer="" nofollow&quot;=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funções de janela SQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
para aplicar um limite em cada registro pai separadamente.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">preload</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">groupLimit</span><span style="color: #F07178;">(</span><span style="color: #F78C6C;">3</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h2 id="relationship-query-builder"><a href="https://docs.adonisjs.com/guides/models/relationships#relationship-query-builder" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Construtor de consultas de relacionamento</font></font></h2>
<div class="alert alert-note"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certifique-se de ler a </font></font><a href="https://docs.adonisjs.com/reference/orm/relations/has-one"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentação da API de relacionamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
para visualizar todos os métodos/propriedades disponíveis no construtor de consultas.</font></font></p></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você também pode acessar o construtor de consultas para um relacionamento usando o </font></font><code>related</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método. </font><font style="vertical-align: inherit;">As consultas de relacionamento sempre têm como escopo uma determinada instância do modelo pai.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Lucid adicionará automaticamente a </font></font><code>where</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cláusula para limitar as postagens para um determinado usuário no exemplo a seguir.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> user </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div></code></pre>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font><code>query</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método retorna uma instância do construtor de consultas padrão e você pode encadear qualquer método a ela para adicionar restrições adicionais.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">posts</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">where</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">isPublished</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">paginate</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você também pode usar o construtor de consultas de relacionamento para </font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linhas </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relacionadas. </font><font style="vertical-align: inherit;">No entanto, fazer isso </font></font><a href="https://docs.adonisjs.com/guides/models/crud-operations#why-not-use-the-update-query-directly"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">não executará</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
nenhum dos ganchos do modelo.</font></font></p>
<h2 id="filter-by-relationships"><a href="https://docs.adonisjs.com/guides/models/relationships#filter-by-relationships" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Filtrar por relacionamentos</font></font></h2>
<p>You can also filter the records of the main query by checking for the existence or absence of a relationship. For example, <strong>select all posts that have received one or more comments</strong>.</p>
<p>You can filter by relationship using the <code>has</code> or the <code>whereHas</code> methods. They accept the relationship name as the first argument. Optionally you can also pass an operator and number of expected rows.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #676E95;">// Get posts with one or more comments</span>
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">has</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #676E95;">// Get posts with more than 2 comments</span>
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">has</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">&gt;</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p>You can make use of the <code>whereHas</code> method to add additional constraints for the relationship query. In the following example, we only fetch posts that have one or more approved comments.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">whereHas</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">where</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">isApproved</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p>Similar to the <code>has</code> method, the <code>whereHas</code> also accepts an optional operator and the count of expected rows.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">whereHas</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">where</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">isApproved</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">},</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">&gt;</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p>Following is the list of <code>has</code> and <code>whereHas</code> variations.</p>
<ul>
<li><code>orHas | orWhereHas</code> adds an <strong>OR</strong> clause for the relationship existence.</li>
<li><code>doesntHave | whereDoesntHave</code> checks for the absence of the relationship.</li>
<li><code>orDoesntHave | orWhereDoesntHave</code> adds an <strong>OR</strong> clause for the relationship absence.</li>
</ul>
<h2 id="relationship-aggregates"><a href="https://docs.adonisjs.com/guides/models/relationships#relationship-aggregates" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
Relationship aggregates</h2>
<p>The relationships API of Lucid also allows you to load the aggregates for relationships. For example, You can fetch a list of <strong>posts with a count of comments for each post</strong>.</p>
<h4 id="withaggregate"><a href="https://docs.adonisjs.com/guides/models/relationships#withaggregate" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
withAggregate</h4>
<p>The <code>withAggregate</code> method accepts the relationship as the first argument and a mandatory callback to define the value's aggregate function and property name.</p>
<div class="alert alert-note"><p>In the following example, the <code>comments_count</code> property is moved to the <code>$extras</code> object because it is not defined as a property on the model.</p></div>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">withAggregate</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">count</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">*</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">as</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments_count</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">posts</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">forEach</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">post</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">post</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">comments_count</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<hr>
<h4 id="withcount"><a href="https://docs.adonisjs.com/guides/models/relationships#withcount" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
withCount</h4>
<p>Since counting relationship rows is a very common requirement, you can instead use the <code>withCount</code> method.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">withCount</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">posts</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">forEach</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">post</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">post</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">comments_count</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p>You can also provide a custom name for the count property using the <code>as</code> method.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">withCount</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">as</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">commentsCount</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">posts</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">forEach</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">post</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #F07178;">(</span><span style="color: #A6ACCD;">post</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">commentsCount</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p>You can define constraints to the count query by passing an optional callback to the <code>withCount</code> method.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> posts </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">query</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">withCount</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">    </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">where</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">isApproved</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h3 id="lazy-load-relationship-aggregates"><a href="https://docs.adonisjs.com/guides/models/relationships#lazy-load-relationship-aggregates" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
Lazy load relationship aggregates</h3>
<p>Similar to the <code>withCount</code> and the <code>withAggregate</code> methods, you can also lazy load the aggregates from a model instance using <code>loadCount</code> and the <code>loadAggregate</code> methods.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> post </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">findOrFail</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">loadCount</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #A6ACCD;">(post</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">comments_count)</span>
</div></code></pre>
</div>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> post </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">findOrFail</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">loadAggregate</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">count</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">*</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">as</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">commentsCount</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #A6ACCD;">(post</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">$extras</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">commentsCount)</span>
</div></code></pre>
</div>
<p>Make sure you are using the <code>loadCount</code> method only when working with a single model instance. If there are multiple model instances, it is better to use the query builder <code>withCount</code> method.</p>
<h2 id="relationship-query-hook"><a href="https://docs.adonisjs.com/guides/models/relationships#relationship-query-hook" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
Relationship query hook</h2>
<p>You can define an <code>onQuery</code> relationship hook at the time of defining a relationship. Then, the query hooks get executed for all the <strong>select</strong>, <strong>update</strong>, and <strong>delete</strong> queries executed by the relationship query builder.</p>
<p>The <code>onQuery</code> method is usually helpful when you always apply certain constraints to the relationship query.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> UserEmail </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">App/Models/UserEmail</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim"><span style="color: #89DDFF;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">column</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">BaseModel</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">hasMany</span><span style="color: #89DDFF;">,</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">HasMany</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">from</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">@ioc:Adonis/Lucid/Orm</span><span style="color: #89DDFF;">'</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #89DDFF;">export</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">default</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">User</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">extends</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">BaseModel</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> UserEmail)</span>
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">emails</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">HasMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> UserEmail</span><span style="color: #89DDFF;">&gt;</span>
</div><div class="line dim">
</div><div class="line dim"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">@</span><span style="color: #82AAFF;">hasMany</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> UserEmail</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">    </span><span style="color: #82AAFF;">onQuery</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line highlight"><span style="color: #F07178;">      </span><span style="color: #A6ACCD;">query</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">where</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">isActive</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span><span style="color: #F07178;"> </span><span style="color: #FF9CAC;">true</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">}</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line highlight"><span style="color: #A6ACCD;">  </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #F07178;">activeEmails</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">HasMany</span><span style="color: #89DDFF;">&lt;typeof</span><span style="color: #A6ACCD;"> UserEmail</span><span style="color: #89DDFF;">&gt;</span>
</div><div class="line highlight"><span style="color: #89DDFF;">}</span>
</div></code></pre>
</div>
<h2 id="create-relationships"><a href="https://docs.adonisjs.com/guides/models/relationships#create-relationships" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
Create relationships</h2>
<p>You can create relationships between two models using the relationships persistence API. Make sure to also check out the <a href="https://docs.adonisjs.com/reference/orm/relations/has-one#query-client">API docs</a>
to view all the available methods.</p>
<h3 id="create"><a href="https://docs.adonisjs.com/guides/models/relationships#create" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
create</h3>
<p>In the following example, we create a new comment and link it to the post at the same time. The <code>create</code> method accepts a plain JavaScript object to persist. The foreign key value is defined automatically.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> post </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">findOrFail</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> comment </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">create</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">body</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">This is a great post</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #A6ACCD;">(comment</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">postId </span><span style="color: #89DDFF;">===</span><span style="color: #A6ACCD;"> post</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">id) </span><span style="color: #676E95;">// true</span>
</div></code></pre>
</div>
<h3 id="save"><a href="https://docs.adonisjs.com/guides/models/relationships#save" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
save</h3>
<p>Following is an example using the <code>save</code> method. The <code>save</code> method needs an instance of the related model. The foreign key value is defined automatically.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> post </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">findOrFail</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> comment </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">Comment</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">comment</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">body </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">This is a great post</span><span style="color: #89DDFF;">'</span>
</div><div class="line">
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> post</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">save</span><span style="color: #A6ACCD;">(comment)</span>
</div><div class="line">
</div><div class="line"><span style="color: #A6ACCD;">console</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">log</span><span style="color: #A6ACCD;">(comment</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">postId </span><span style="color: #89DDFF;">===</span><span style="color: #A6ACCD;"> post</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">id) </span><span style="color: #676E95;">// true</span>
</div></code></pre>
</div>
<h3 id="createmany"><a href="https://docs.adonisjs.com/guides/models/relationships#createmany" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
createMany</h3>
<p>You can also create multiple relationships using the <code>createMany</code> method. The method is only available for <code>hasMany</code> and <code>manyToMany</code> relationships.</p>
<p>The <code>createMany</code> method returns an array of persisted model instances.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> comments </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createMany</span><span style="color: #A6ACCD;">([</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">      </span><span style="color: #F07178;">body</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">This is a great post.</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">},</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">      </span><span style="color: #F07178;">body</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">Well written.</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span>
</div><div class="line"><span style="color: #A6ACCD;">  ])</span>
</div></code></pre>
</div>
<h3 id="savemany"><a href="https://docs.adonisjs.com/guides/models/relationships#savemany" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
saveMany</h3>
<p>Similar to the <code>save</code> method. The <code>saveMany</code> method allows persisting multiple relationships together.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> comment1 </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">Comment</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">comment1</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">body </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">This is a great post</span><span style="color: #89DDFF;">'</span>
</div><div class="line">
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> comment2 </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">Comment</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">comment2</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">body </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">Well written</span><span style="color: #89DDFF;">'</span>
</div><div class="line">
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Post</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">comments</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">saveMany</span><span style="color: #A6ACCD;">([comment1</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> comment2])</span>
</div></code></pre>
</div>
<h3 id="associate"><a href="https://docs.adonisjs.com/guides/models/relationships#associate" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
associate</h3>
<p>The <code>associate</code> method is exclusive to the <code>belongsTo</code> relationship. It let you associate two models with each other.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> user </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">findOrFail</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> profile </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">Profile</span><span style="color: #A6ACCD;">()</span>
</div><div class="line"><span style="color: #A6ACCD;">profile</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">avatarUrl </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">foo.jpg</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> profile</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">associate</span><span style="color: #A6ACCD;">(user)</span>
</div></code></pre>
</div>
<h3 id="dissociate"><a href="https://docs.adonisjs.com/guides/models/relationships#dissociate" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
dissociate</h3>
<p>The <code>dissociate</code> removes the relationship by setting the foreign key to <code>null</code>. Thus, the method is exclusive to the <code>belongsTo</code> relationship.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> profile </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Profile</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">findOrFail</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> profile</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">dissociate</span><span style="color: #A6ACCD;">()</span>
</div></code></pre>
</div>
<h3 id="attach"><a href="https://docs.adonisjs.com/guides/models/relationships#attach" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
attach</h3>
<p>The <code>attach</code> method is exclusive to a <code>manyToMany</code> relationship. It allows you to create a relationship between two persisted models inside the pivot table.</p>
<p>The <code>attach</code> method just needs the <code>id</code> of the related model to form the relationship inside the pivot table.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> user </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> skill </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #676E95;">// Performs insert query inside the pivot table</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">attach</span><span style="color: #A6ACCD;">([skill</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">id])</span>
</div></code></pre>
</div>
<p>You can define additional pivot columns by passing an object of key-value pair. The key is the related model id, and the value is an object of additional columns.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">attach</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">[</span><span style="color: #A6ACCD;">skill</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">id</span><span style="color: #F07178;">]</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">proficiency</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">Beginner</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h3 id="detach"><a href="https://docs.adonisjs.com/guides/models/relationships#detach" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
detach</h3>
<p>The <code>detach</code> method is the opposite of the <code>attach</code> method and allows you to remove the relationship <strong>from the pivot table</strong>.</p>
<p>It optionally accepts an array of <code>ids</code> to remove. Calling the method without any arguments will remove all the relationships from the pivot table.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> user </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> skill </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> Skill</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">detach</span><span style="color: #A6ACCD;">([skill</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">id])</span>
</div><div class="line">
</div><div class="line"><span style="color: #676E95;">// Remove all skills for the user</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">detach</span><span style="color: #A6ACCD;">()</span>
</div></code></pre>
</div>
<h3 id="sync"><a href="https://docs.adonisjs.com/guides/models/relationships#sync" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
sync</h3>
<p>The <code>sync</code> method allows you to sync the pivot rows. The payload provided to the <code>sync</code> method is considered the source of truth, and we compute a diff internally to execute the following SQL queries.</p>
<ul>
<li>Insert the rows missing in the pivot table but present in the sync payload.</li>
<li>Update the rows present in the pivot table and the sync payload but has one or more changed arguments.</li>
<li>Remove the rows present in the pivot table but missing in the sync payload.</li>
<li>Ignore rows present in both the pivot table and the sync payload.</li>
</ul>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> user </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #676E95;">// Only skills with id 1, 2, 3 will stay in the pivot table</span>
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">sync</span><span style="color: #A6ACCD;">([</span><span style="color: #F78C6C;">1</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">3</span><span style="color: #A6ACCD;">])</span>
</div></code></pre>
</div>
<p>You can also define additional pivot columns as an object of key-value pair.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #C792EA;">const</span><span style="color: #A6ACCD;"> user </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> User</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">find</span><span style="color: #A6ACCD;">(</span><span style="color: #F78C6C;">1</span><span style="color: #A6ACCD;">)</span>
</div><div class="line">
</div><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">sync</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">[</span><span style="color: #F78C6C;">1</span><span style="color: #F07178;">]</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">proficiency</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">Beginner</span><span style="color: #89DDFF;">'</span><span style="color: #89DDFF;">,</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">},</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">[</span><span style="color: #F78C6C;">2</span><span style="color: #F07178;">]</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">proficiency</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">Master</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">},</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #F07178;">[</span><span style="color: #F78C6C;">3</span><span style="color: #F07178;">]</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line"><span style="color: #A6ACCD;">    </span><span style="color: #F07178;">proficiency</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">Master</span><span style="color: #89DDFF;">'</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">}</span>
</div><div class="line"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<p>You can disable the <code>detach</code> option to sync rows without removing any rows from the pivot table.</p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line"><span style="color: #89DDFF;">await</span><span style="color: #A6ACCD;"> user</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">related</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">skills</span><span style="color: #89DDFF;">'</span><span style="color: #A6ACCD;">)</span>
</div><div class="line"><span style="color: #89DDFF;">  </span><span style="color: #676E95;">// Add skills with id 1,2,3, but do not remove any</span>
</div><div class="line"><span style="color: #89DDFF;">  </span><span style="color: #676E95;">// rows from the pivot table</span>
</div><div class="line"><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">sync</span><span style="color: #A6ACCD;">([</span><span style="color: #F78C6C;">1</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">3</span><span style="color: #A6ACCD;">]</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #FF9CAC;">false</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<h2 id="delete-relationship"><a href="https://docs.adonisjs.com/guides/models/relationships#delete-relationship" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>
Delete relationship</h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na maioria das vezes, você pode excluir linhas relacionadas diretamente de seu modelo. </font><font style="vertical-align: inherit;">Por exemplo: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode excluir um comentário pelo seu id, diretamente utilizando o modelo Comment</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , não há necessidade de acionar a exclusão do comentário via post.</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para um </font></font><code>manyToMany</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relacionamento, você pode usar o </font></font><code>detach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método para remover a linha da tabela dinâmica.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use o </font></font><code>dissociate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">método para remover um relacionamento pertence a sem excluir a linha da tabela do banco de dados.</font></font></li>
</ul>
<h3 id="using-the-ondelete-action"><a href="https://docs.adonisjs.com/guides/models/relationships#using-the-ondelete-action" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando a ação onDelete</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você também pode usar a </font></font><code>onDelete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ação do banco de dados para remover os dados relacionados do banco de dados. </font><font style="vertical-align: inherit;">Por exemplo: Exclua as postagens de um usuário quando o próprio usuário for excluído.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir está um exemplo de migração para definir a </font></font><code>onDelete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ação.</font></font></p>
<div x-data="copyToClipboard" class="dimer-highlight">
<button aria-label="Copie o código para a área de transferência" @click="copy" class="ctc-action">
<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path x-show="copied" d="M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" style="display: none;"></path>
<path x-show="!copied" d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
</path></svg>
</button>
<pre x-ref="content"><code><div class="line dim"><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">schema</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">createTable</span><span style="color: #A6ACCD;">(</span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">tableName</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">table</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">increments</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">  </span><span style="color: #A6ACCD;">table</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">integer</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">user_id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">unsigned</span><span style="color: #F07178;">()</span>
</div><div class="line dim"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">references</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">users.id</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line highlight"><span style="color: #F07178;">    </span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">onDelete</span><span style="color: #F07178;">(</span><span style="color: #89DDFF;">'</span><span style="color: #C3E88D;">CASCADE</span><span style="color: #89DDFF;">'</span><span style="color: #F07178;">)</span>
</div><div class="line dim"><span style="color: #89DDFF;">}</span><span style="color: #A6ACCD;">)</span>
</div></code></pre>
</div>
<hr>
<p class="edit-link">
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="edit-icon">
<path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path>
<polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon>
</svg>
<a href="https://github.com/adonisjs/docs.adonisjs.com/blob/develop/content/guides/models/relationships.md" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edite esta página no GitHub</font></font></a>
</p>
</div>
</main>
<aside class="toc show_nested">
<div class="toc-container">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesta página</font></font></h3>
<nav>
<ul x-data="tocMenu">
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#hasone"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tem um</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definindo relacionamento no modelo</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#custom-relationship-keys"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chaves de relacionamento personalizadas</font></font></a>
</li>
</ul>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#hasmany"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tem muitos</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definindo relacionamento no modelo</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#custom-relationship-keys-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chaves de relacionamento personalizadas</font></font></a>
</li>
</ul>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#belongsto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pertence a</font></font></a>
</p>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#manytomany"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muitos para muitos</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definindo relacionamento no modelo</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#custom-relationship-keys-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chaves de relacionamento personalizadas</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#custom-pivot-table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabela dinâmica personalizada</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#additional-pivot-columns"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colunas dinâmicas adicionais</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#pivot-table-timestamps"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carimbos de data e hora da tabela dinâmica</font></font></a>
</li>
</ul>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#hasmanythrough"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HasManyThrough</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#defining-relationship-on-the-model-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definindo relacionamento no modelo</font></font></a>
</li>
</ul>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#preload-relationship"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relacionamento de pré-carregamento</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#preload-multiple-relationships"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pré-carregar vários relacionamentos</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#preload-nested-relationships"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pré-carregar relacionamentos aninhados</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#many-to-many-pivot-columns"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muitas para muitas colunas dinâmicas</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#lazy-load-relationships"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relacionamentos de carga lenta</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#limit-preloaded-relationships"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limitar relacionamentos pré-carregados</font></font></a>
</li>
</ul>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#relationship-query-builder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Construtor de consultas de relacionamento</font></font></a>
</p>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#filter-by-relationships"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtrar por relacionamentos</font></font></a>
</p>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#relationship-aggregates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregados de relacionamento</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#lazy-load-relationship-aggregates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregados de relacionamento de carregamento lento</font></font></a>
</li>
</ul>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#relationship-query-hook"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gancho de consulta de relacionamento</font></font></a>
</p>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#create-relationships"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie relacionamentos</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#create"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">criar</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#save"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salvar</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#createmany"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">criar muitos</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#savemany"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salvarMuitos</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#associate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">associado</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#dissociate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dissociar</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#attach"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anexar</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#detach"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">separar</font></font></a>
</li>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#sync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sincronizar</font></font></a>
</li>
</ul>
</li>
<li>
<p><a href="https://docs.adonisjs.com/guides/models/relationships#delete-relationship"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excluir relacionamento</font></font></a>
</p>
<ul>
<li><a href="https://docs.adonisjs.com/guides/models/relationships#using-the-ondelete-action"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando a ação onDelete</font></font></a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<div class="sponsors-wrapper">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patrocinadores Platina</font></font></h3>
<div class="sponsors">
<div class="sponsor">
<a href="https://cleavr.io/adonis/?utm_source=adonisjs" target="_blank" title="Cutelo">
<img src="./Relacionamentos_files/cleavr.35c0e821.svg" style="width: 110px;" alt="Cutelo">
</a>
</div>
</div>
</div>
<div class="carbonads_wrapper" x-data="carbonAd(&#39;CKYIL23I&#39;)">
<style>#carbonads .carbon-poweredby{text-align:left;text-transform:uppercase;font-size:9px;letter-spacing:1px}</style><script type="text/javascript" src="./Relacionamentos_files/carbon.js.transferir" id="_carbonads_js"></script><div id="carbonads"><span><span class="carbon-wrap"><a href="https://srv.carbonads.net/ads/click/x/GTND42J7CABI6K7NFTSLYKQNF6SI453UCWYDTZ3JCYAI5K3LCEADPK7KCA7IE2JNCAAIK27YCEBIK2QNCKYIE2JKC6SDL27MCKSDEK3EHJNCLSIZ?segment=placement:adonisjscom;" class="carbon-img" target="_blank" rel="noopener sponsored"><img src="./Relacionamentos_files/4b026c6e833cc28b044745a9963a9d5fea958b57" alt="anúncios via Carbon" border="0" height="100" width="130" style="max-width: 130px;"></a><a href="https://srv.carbonads.net/ads/click/x/GTND42J7CABI6K7NFTSLYKQNF6SI453UCWYDTZ3JCYAI5K3LCEADPK7KCA7IE2JNCAAIK27YCEBIK2QNCKYIE2JKC6SDL27MCKSDEK3EHJNCLSIZ?segment=placement:adonisjscom;" class="carbon-text" target="_blank" rel="noopener sponsored"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baixe este modelo de pôster vintage gratuitamente com a avaliação gratuita do Adobe Stock.</font></font></a></span><a href="http://carbonads.net/?utm_source=adonisjscom&amp;utm_medium=ad_via_link&amp;utm_campaign=in_unit&amp;utm_term=carbon" class="carbon-poweredby" target="_blank" rel="noopener sponsored"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anúncios via Carbon</font></font></a></span></div></div>
</aside>
</div>
</div>
<script defer="" src="./Relacionamentos_files/beacon.min.js.transferir" data-cf-beacon="{&quot;token&quot;: &quot;6c0822ad99dc4c53b8297938ba08ab17&quot;}"></script><div id="goog-gt-tt" class="VIpgJd-yAWNEb-L7lbkb skiptranslate" style="border-radius: 12px; margin: 0 0 0 -23px; padding: 0; font-family: &#39;Google Sans&#39;, Arial, sans-serif;" data-id=""><div id="goog-gt-vt" class="VIpgJd-yAWNEb-hvhgNd"><div class=" VIpgJd-yAWNEb-hvhgNd-l4eHX-i3jM8c"><img src="./Relacionamentos_files/24px.svg" width="24" height="24" alt=""></div><div class=" VIpgJd-yAWNEb-hvhgNd-k77Iif-i3jM8c"><div class="VIpgJd-yAWNEb-hvhgNd-IuizWc" dir="ltr">Texto original</div><div id="goog-gt-original-text" class="VIpgJd-yAWNEb-nVMfcd-fmcmS VIpgJd-yAWNEb-hvhgNd-axAV1"></div></div><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid ltr"><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od ltr" dir="ltr"><div class="VIpgJd-yAWNEb-hvhgNd-UTujCb">Avalie a tradução</div><div class="VIpgJd-yAWNEb-hvhgNd-eO9mKe">O feedback vai ser usado para ajudar a melhorar o Google Tradutor</div></div><div class="VIpgJd-yAWNEb-hvhgNd-xgov5 ltr"><button id="goog-gt-thumbUpButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Tradução boa" aria-label="Tradução boa" aria-pressed="false"><span id="goog-gt-thumbUpIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7H2v13h16c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM7 18H4V9h3v9zm14-7l-3 7H9V8l4.34-4.34L12 9h9v2z"></path></svg></span><span id="goog-gt-thumbUpIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7v13h11c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM5 7H1v13h4V7z"></path></svg></span></button><button id="goog-gt-thumbDownButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Tradução ruim" aria-label="Tradução ruim" aria-pressed="false"><span id="goog-gt-thumbDownIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7h5V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zM17 6h3v9h-3V6zM3 13l3-7h9v10l-4.34 4.34L12 15H3v-2z"></path></svg></span><span id="goog-gt-thumbDownIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zm16 0h4V4h-4v13z"></path></svg></span></button></div></div><div id="goog-gt-votingHiddenPane" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><form id="goog-gt-votingForm" action="https://translate.googleapis.com/translate_voting?client=te_lib" method="post" target="votingFrame" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><input type="text" name="sl" id="goog-gt-votingInputSrcLang"><input type="text" name="tl" id="goog-gt-votingInputTrgLang"><input type="text" name="query" id="goog-gt-votingInputSrcText"><input type="text" name="gtrans" id="goog-gt-votingInputTrgText"><input type="text" name="vote" id="goog-gt-votingInputVote"></form><iframe name="votingFrame" frameborder="0" src="./Relacionamentos_files/saved_resource.html"></iframe></div></div></div>
</body></html>